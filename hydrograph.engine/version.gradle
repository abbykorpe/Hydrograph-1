version = new Version(major: 0, minor:1, revision: 7)
gradle.taskGraph.whenReady { taskGraph ->version.release = taskGraph.hasTask(release)}

task release {
doFirst {
println "Releasing application $version"
		}
}

class Version {
	int major, minor, revision
	boolean release
	String toString() {
	release=false
	"$major.$minor.$revision${release ? '' : '-SNAPSHOT'}"
		}
	}