language: java
jdk:
  - oraclejdk8
  
sudo: required

before_cache:
  - rm -f  $HOME/.gradle/caches/modules-2/modules-2.lock
  - rm -fr $HOME/.gradle/caches/*/plugin-resolution/

cache:
  directories:
  - $HOME/.m2
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/

# Display Gradle version instead of letting Travis execute './gradlew assemble' by default
install: ./gradlew -version  
  
script: 
  - chmod 777 build.sh
  - java -version
  - ./gradlew -version
  - ./gradlew copyLibs
  - ./build.sh
  
notifications: 
    email:
      recipients:
      - hydrograph_support@bitwiseglobal.com  
    on_success: always
    on_failure: always
  
env:
  global:
    - secure: "Bj/zRPH+dILzbc4SmFudQq7gB39C9UA2EnEWC0QWxGRoOt4PojrhNcrnG7fGZOMM1pIUd2NyJa23qtCgJF26TBknVSxpTtLvU8JW9hA5NVDsyoPe5R4fCbkb9OwZ6e50eQRPUHd/lFVUXwv3wk0O74N9OvmlbwEe2b6LDOGnpiIh/veLypob0i3k4IIBAlchC4nAoREoybCqeEpZI70zFY2o+p5bz7+dg2+B8iD4WfhipmZf2aAfzkCAH0fDZKuXSy4wJt3LqEAuBZlRf9iSQAO2r3UInnwyVx6yvSi8UuwgMNoRCuhSq1VMdRJ/EEtFYHta5rT2XcPP8JSH6qJZRXrsp06UeMYwnIJ6QY3DgtZzs73WJ7TdmA9nCjbYSZMQrXSIK3Z7cBD5dScQd3HIhMNrGrs9bJII5PEYQrfq3jMVU3AiUxQ7FBZSc2BQX2OTelRyCMJY/TPvnrsZ9zQA1x+4jkjF6Ad+MlG5ViTje9bsgnnAqfyOepTjmx+KO9UqiDYsFnWmFh2+o5HHihPnSGT+Z6ui87z4Y167t88vaS1Ja72VcRHsoQ1B76VRU/p5zqJR8spRkPI3cU2PwrIsnpSSxCCHMHOhpqjksqNsfCFCscB9mRvfgbUrYQkU6rSw/3vxLB/sT5a/MTTNZOVuMdR4dAkNRGe5zdmdWBdaWrM="
    - secure: "Vy/pfbkJw4m55Ipqn2Lq9qEdltBcBFU6UT8ILtgFRrnl1BilvEQ6j8Pg3e0zU04RZNdtHoXuFSu8zrmhLQI6rLjjUhxrq2Isj35/G1ET36yZMrwrnwDnvx+2AHcsmolIFDVz6/bgfFDJ4TdQ4p62ucydicneBz402GnnVBzx69Kr7Wv5xSTQLLTvFek7hVlJdSClvXmft/h9B4//mSS0gVtnRrs8ku3IMJuBy5K0AMGucI/M/NwNSmBbDGeRzfaC+8Zqnz9O7DOqbEN5h6afilun8dkUYMHjpLoa3PDmkHmTfBzqITB2fROquHrdGXo9bd6cbpJRAR3slmPiD0I+hJwezMRvrQPHi/xm1ca4rTK5oAGu8iDLYW01/HXwxNmQbUn7timzm8iPaoJbb1/QIltjoJlGzkL0a6lXtxr9TUfdLiR335WSy7p1J+LoIOkxwwLuAlETTI+xJgJdEnfIunGVM3lTEbu3S2MO9UH8wmk3XF+qvrk29OKZEchWrpXis23nZ0eFVLllPbjQM8sxrA7OZbPhnE1shJkHepKZj8NwH1RFHjq4eCZpKt+z1pf3n/4hFY7WT0kkwyooKkBpZAVEnOnv1d+IxMj2SJhc+IOzdGvSanbYqC3JCM6Q8yI0n1HRFcokc+JIyyZ3oLRRncNjmsKXDgH6f6QKDuJ1cMM="
after_success:
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.ui/hydrograph.ui.product/target/products/hydrograph.ui.perspective.ID-win32.win32.x86_64.zip -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.ui/hydrograph.ui.product/target/products/hydrograph.ui.perspective.ID-win32.win32.x86.zip -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.ui/hydrograph.ui.product/target/products/hydrograph.ui.perspective.ID-linux.gtk.x86_64.zip -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.ui/hydrograph.ui.product/target/products/hydrograph.ui.perspective.ID-macosx.cocoa.x86_64.zip -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/build/libs/hydrograph.engine.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/build/pom.xml -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.command-line/build/libs/hydrograph.engine.command-line.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.command-line/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.command-line/build/libs/hydrograph.engine.command-line-sources.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.command-line/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.command-line/build/libs/hydrograph.engine.command-line-tests.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.command-line/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.command-line/build/pom.xml -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.command-line/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.cascading/build/libs/hydrograph.engine.cascading.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.cascading/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.cascading/build/libs/hydrograph.engine.cascading-sources.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.cascading/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.cascading/build/libs/hydrograph.engine.cascading-tests.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.cascading/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.cascading/build/pom.xml -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.cascading/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.core/build/libs/hydrograph.engine.core.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.core/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.core/build/libs/hydrograph.engine.core-sources.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.core/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.core/build/libs/hydrograph.engine.core-tests.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.core/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.core/build/pom.xml -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.core/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.transformation/build/libs/hydrograph.engine.transformation.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.transformation/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.transformation/build/libs/hydrograph.engine.transformation-sources.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.transformation/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.transformation/build/libs/hydrograph.engine.transformation-tests.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.transformation/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.transformation/build/pom.xml -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.transformation/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.expression/build/libs/hydrograph.engine.expression.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.expression/"
    - "curl --ftp-create-dirs -T  	/home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.expression/build/libs/hydrograph.engine.expression-sources.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.expression/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.expression/build/libs/hydrograph.engine.expression-tests.jar -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.expression/"
    - "curl --ftp-create-dirs -T  /home/travis/build/capitalone/Hydrograph/hydrograph.engine/hydrograph.engine.expression/build/pom.xml -u $FTP_USER:$FTP_PASSWORD ftp://ftp.bitwiseglobal.com:4469/travis_builds/travis_extentions/$TRAVIS_BRANCH/$TRAVIS_JOB_NUMBER/hydrograph.engine.expression/"
