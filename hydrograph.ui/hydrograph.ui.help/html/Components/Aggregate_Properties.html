<!-- Copyright 2016 Capital One Services, LLC and Bitwise, Inc.
 Licensed under the Apache License, Version 2.0 (the "License");
 you may not use this file except in compliance with the License.
 You may obtain a copy of the License at
 http://www.apache.org/licenses/LICENSE-2.0
 Unless required by applicable law or agreed to in writing, software
 distributed under the License is distributed on an "AS IS" BASIS,
 WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 See the License for the specific language governing permissions and
 limitations under the License. -->
 
<!doctype html>
<html>
<head>
	<title>Aggregate Properties</title>
	<link rel="stylesheet" type="text/css" href="../css/style.css">
</head>
<body>

<p><span class="header">Aggregate Properties</span></p>

<p><span><b>Properties</b>&nbsp;for the Aggregate component can be viewed by double clicking the component on canvas. The properties contain a &#39;General&#39; tab and a &#39;Schema&#39; tab. Common and mandatory properties are present in the General tab. Schema tab displays the option to accept the field schema i.e. field name, data type, scale etc. </span></p>

<p><span><b>General Properties</b></span></p>

<p><img alt="" src="../images/Aggregate_Properties_General.png" /></p>

<p><span><b>Display</b></span></p>

<ul>
	<li><span><b>Name</b> - The Name field specifies the name of the component</span></li>
	<li><span><b>Base Type</b> - Base Type signifies the category of the component. Aggregate is of base type Transform. This is a non editable field.</span></li>
	<li><span><b>Type</b> - Type defines the type of component within the category. This typically is the name of the component. This is a non editable field.</span></li>
</ul>

<p><span style="font-family:verdana,geneva,sans-serif; font-size:14px;"><b>Configuration</b></span></p>

<ul>
	<li><span><b>Runtime Properties</b> -&nbsp;Runtime properties are used to override the Hadoop configurations specific to this Aggregate component at run time. User is required to enter the Property Name and Property Value in the runtime properties grid.</span></li>
</ul>
	<p><img alt="" src="../images/Runtime_Properties_Grid.png" /></p>
<ul>
	<li><span><b>Key Field</b> - Key Field opens up a grid that accepts the key fields for the aggregation operations. The records are grouped based on these key fields. The records are always sorted in ascending order on keys.</span></li>
</ul>
	<p><img alt="" src="../images/Aggregate_Key_Field.png" /></p>
<ul>	
	<li><span><b>Secondary Keys</b> - Secondary keys opens up a grid that accepts the secondary key fields for the aggregation operations. Secondary key fields are used for ordering the input records within the groups defined by the 'Key Fields'. The user can specify the sort order for secondary key fields. The sort order can be either Ascending or Descending. The default sort order is ascending (Asc).</span></li>
</ul>
	<p><img alt="" src="../images/Aggregate_Secondary_keys.png" /></p>
<ul>	
<li><span><b>Aggregate</b> - Edit button opens up the '<a href="Aggregate_Operation_Editor.html">Operation Editor</a>' view, where the user can define the custom aggregation operation. The user can select the input fields needed for the aggregation operation, write custom operation classes (or select existing standard operation classes), extract the output fields all in the same view. Check <a href="Aggregate_Operation_Class.html">Operation Class</a> to know more about creating custom classes and using standard classes for aggregation operations.</span></li>
</ul>
	<p><img alt="" src="../images/Aggregate_Mapping_View.png" width="100%"/></p>
<ul>
	<li><span><b>Phase</b> - Phase accepts a numeric number starting from 0 and signifies the phase this component will execute in. The default value for phase is 0.</span></li>
</ul>

<p><span><b>Schema tab: </b></span></p>

<p><img alt="" src="../images/Aggregate_Properties_Schema.png" /></p>

<p><span>User can define the schema for the out port of Aggregate component in this tab by specifying below attributes.</span></p>
<ul>
	<li><span><b>Field Name</b> - The name for the field.</span></li>
	<li><span><b>Data type</b> - The data type for the field. The default data type is "String".</span></li>
	<li><span><b>Scale</b> - The number of digits to the right of decimal point. Scale is defined for Double, Float or BigDecimal field.</span></li>
	<li><span><b>Scale Type</b> – Scale Type accepts values as implicit or explicit for BigDecimal field and none for other data types. Explicit considers the length of '.' in precision and implicit ignores length of '.' precision for the BigDecimal field.</span></li>
	<li><span><b>Date Format</b> - The format for date data type. Refer to <a href="../references/Java_Date_Formats.html">java date formats</a> page for acceptable date formats.</span></li>
	<li><span><b>Precision</b> – The number of significant digits (all digits except leading zeros and trailing zeros after decimal point).</span></li>
	<li><span><b>Field Description</b> – The description for the field.</span></li>
</ul>
<p>
	<span><b>Pull Schema</b> – The schema defined in Operation Editor's output, will be pulled to the schema tab.</span>
</p>
</body>
</html>